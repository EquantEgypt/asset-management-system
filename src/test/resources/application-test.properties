# ----------------------------------------
# Database connection (Test - MariaDB Testcontainer)
# ----------------------------------------


# JPA & Hibernate
spring.jpa.database-platform=org.hibernate.dialect.MariaDB106Dialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true

# Batch optimizations
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.id.new_generator_mappings=false

# Ensure Hibernate uses correct schema
spring.jpa.properties.hibernate.default_schema=ams

# ----------------------------------------
# Flyway
# ----------------------------------------
spring.flyway.enabled=true
spring.flyway.schemas=ams
spring.flyway.baseline-on-migrate=true
